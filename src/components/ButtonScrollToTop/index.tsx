import React, { useState, useEffect } from 'react';

import './ButtonScrollToTop.less';

const ScrollToTopButton: React.FC = () => {
  const [isVisible, setIsVisible] = useState<boolean>(false);

  useEffect(() => {
    window.addEventListener('scroll', handleScroll);
    return () => {
      window.removeEventListener('scroll', handleScroll);
    };
  }, []);

  const handleScroll = (): void => {
    if (window.pageYOffset > 100) {
      setIsVisible(true);
    } else {
      setIsVisible(false);
    }
  };

  const scrollToTop = (): void => {
    window.scrollTo({
      top: 0,
      behavior: 'smooth',
    });
  };

  return isVisible ? (
    <button onClick={scrollToTop} className="show-scroll-btn">
      <svg
        width="138"
        height="82"
        viewBox="0 0 138 82"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g filter="url(#filter0_d_542_1699)">
          <rect x="16" y="16" width="106" height="50" rx="25" fill="white" />
        </g>
        <path
          d="M66.822 46.084C66.626 46.084 66.4113 46.0793 66.178 46.07C65.954 46.0607 65.7253 46.0467 65.492 46.028C65.268 46.0093 65.044 45.986 64.82 45.958C64.596 45.93 64.3907 45.8927 64.204 45.846V36.438C64.3907 36.3913 64.596 36.354 64.82 36.326C65.044 36.298 65.268 36.2747 65.492 36.256C65.7253 36.2373 65.954 36.2233 66.178 36.214C66.402 36.2047 66.612 36.2 66.808 36.2C67.368 36.2 67.8907 36.242 68.376 36.326C68.8707 36.41 69.2953 36.5547 69.65 36.76C70.014 36.956 70.2987 37.2173 70.504 37.544C70.7093 37.8707 70.812 38.272 70.812 38.748C70.812 39.28 70.686 39.7187 70.434 40.064C70.182 40.4 69.846 40.652 69.426 40.82C69.9953 40.988 70.448 41.254 70.784 41.618C71.12 41.982 71.288 42.4953 71.288 43.158C71.288 44.1287 70.9287 44.8613 70.21 45.356C69.5007 45.8413 68.3713 46.084 66.822 46.084ZM65.548 41.478V44.894C65.6507 44.9033 65.772 44.9127 65.912 44.922C66.0333 44.9313 66.1733 44.9407 66.332 44.95C66.5 44.95 66.6913 44.95 66.906 44.95C67.3073 44.95 67.6853 44.9267 68.04 44.88C68.404 44.824 68.7213 44.7307 68.992 44.6C69.2627 44.4693 69.4773 44.2873 69.636 44.054C69.804 43.8207 69.888 43.5267 69.888 43.172C69.888 42.8547 69.8273 42.5887 69.706 42.374C69.5847 42.15 69.4073 41.9727 69.174 41.842C68.95 41.7113 68.6793 41.618 68.362 41.562C68.0447 41.506 67.69 41.478 67.298 41.478H65.548ZM65.548 40.386H66.976C67.312 40.386 67.6293 40.3627 67.928 40.316C68.2267 40.2693 68.4833 40.1853 68.698 40.064C68.922 39.9427 69.0947 39.784 69.216 39.588C69.3467 39.392 69.412 39.1447 69.412 38.846C69.412 38.566 69.3467 38.3327 69.216 38.146C69.0853 37.95 68.9033 37.796 68.67 37.684C68.446 37.5627 68.18 37.474 67.872 37.418C67.564 37.362 67.2373 37.334 66.892 37.334C66.5467 37.334 66.276 37.3387 66.08 37.348C65.884 37.3573 65.7067 37.3713 65.548 37.39V40.386ZM74.3901 45.02C74.4461 45.0293 74.5254 45.0387 74.6281 45.048C74.7308 45.0573 74.8474 45.0667 74.9781 45.076C75.1088 45.076 75.2441 45.0807 75.3841 45.09C75.5334 45.09 75.6734 45.09 75.8041 45.09C76.0748 45.09 76.3314 45.0713 76.5741 45.034C76.8261 44.9967 77.0408 44.9313 77.2181 44.838C77.4048 44.7447 77.5494 44.6233 77.6521 44.474C77.7641 44.3153 77.8201 44.1147 77.8201 43.872C77.8201 43.6387 77.7688 43.4473 77.6661 43.298C77.5728 43.1393 77.4421 43.0133 77.2741 42.92C77.1061 42.8267 76.9054 42.7613 76.6721 42.724C76.4481 42.6867 76.2054 42.668 75.9441 42.668H74.3901V45.02ZM75.7761 41.702C76.0281 41.702 76.2568 41.688 76.4621 41.66C76.6768 41.6227 76.8588 41.562 77.0081 41.478C77.1668 41.394 77.2881 41.282 77.3721 41.142C77.4654 41.002 77.5121 40.8247 77.5121 40.61C77.5121 40.386 77.4561 40.2087 77.3441 40.078C77.2321 39.9473 77.0828 39.8493 76.8961 39.784C76.7188 39.7093 76.5134 39.6627 76.2801 39.644C76.0561 39.616 75.8274 39.602 75.5941 39.602C75.3794 39.602 75.1601 39.6067 74.9361 39.616C74.7214 39.6253 74.5394 39.6347 74.3901 39.644V41.702H75.7761ZM75.7481 46.126C75.1974 46.126 74.6888 46.098 74.2221 46.042C73.7554 45.9953 73.3868 45.9393 73.1161 45.874V38.79C73.3868 38.7247 73.7554 38.6687 74.2221 38.622C74.6888 38.566 75.1974 38.538 75.7481 38.538C76.1308 38.538 76.5041 38.5707 76.8681 38.636C77.2321 38.7013 77.5541 38.8133 77.8341 38.972C78.1141 39.1213 78.3381 39.3313 78.5061 39.602C78.6834 39.8633 78.7721 40.19 78.7721 40.582C78.7721 40.9367 78.6834 41.24 78.5061 41.492C78.3288 41.744 78.0908 41.94 77.7921 42.08C78.1934 42.22 78.5108 42.43 78.7441 42.71C78.9868 42.9807 79.1081 43.3633 79.1081 43.858C79.1081 44.2967 79.0194 44.6607 78.8421 44.95C78.6741 45.2393 78.4361 45.4727 78.1281 45.65C77.8294 45.8273 77.4748 45.9487 77.0641 46.014C76.6534 46.0887 76.2148 46.126 75.7481 46.126ZM80.38 42.374C80.38 41.73 80.4733 41.17 80.66 40.694C80.8467 40.2087 81.094 39.8073 81.402 39.49C81.71 39.1727 82.0647 38.9347 82.466 38.776C82.8673 38.6173 83.278 38.538 83.698 38.538C84.678 38.538 85.4293 38.846 85.952 39.462C86.4747 40.0687 86.736 40.9973 86.736 42.248C86.736 42.304 86.736 42.3787 86.736 42.472C86.736 42.556 86.7313 42.6353 86.722 42.71H81.738C81.794 43.466 82.0133 44.04 82.396 44.432C82.7787 44.824 83.376 45.02 84.188 45.02C84.6453 45.02 85.028 44.9827 85.336 44.908C85.6533 44.824 85.8913 44.7447 86.05 44.67L86.232 45.762C86.0733 45.846 85.7933 45.9347 85.392 46.028C85 46.1213 84.552 46.168 84.048 46.168C83.4133 46.168 82.8627 46.0747 82.396 45.888C81.9387 45.692 81.5607 45.426 81.262 45.09C80.9633 44.754 80.7393 44.3573 80.59 43.9C80.45 43.4333 80.38 42.9247 80.38 42.374ZM85.378 41.66C85.3873 41.072 85.238 40.5913 84.93 40.218C84.6313 39.8353 84.216 39.644 83.684 39.644C83.3853 39.644 83.1193 39.7047 82.886 39.826C82.662 39.938 82.4707 40.0873 82.312 40.274C82.1533 40.4607 82.0273 40.6753 81.934 40.918C81.85 41.1607 81.794 41.408 81.766 41.66H85.378ZM93.6603 42.374C93.6603 41.5247 93.4503 40.8713 93.0303 40.414C92.6103 39.9567 92.0503 39.728 91.3503 39.728C90.9583 39.728 90.6503 39.742 90.4263 39.77C90.2117 39.798 90.039 39.8307 89.9083 39.868V44.46C90.067 44.5907 90.2957 44.7167 90.5943 44.838C90.893 44.9593 91.2197 45.02 91.5743 45.02C91.9477 45.02 92.265 44.9547 92.5263 44.824C92.797 44.684 93.0163 44.4973 93.1843 44.264C93.3523 44.0213 93.4737 43.7413 93.5483 43.424C93.623 43.0973 93.6603 42.7473 93.6603 42.374ZM95.0183 42.374C95.0183 42.9247 94.9437 43.4333 94.7943 43.9C94.6543 44.3667 94.4443 44.768 94.1643 45.104C93.8843 45.44 93.539 45.7013 93.1283 45.888C92.727 46.0747 92.265 46.168 91.7423 46.168C91.3223 46.168 90.949 46.112 90.6223 46C90.305 45.888 90.067 45.7807 89.9083 45.678V48.59H88.6063V38.944C88.9143 38.8693 89.297 38.79 89.7543 38.706C90.221 38.6127 90.7577 38.566 91.3643 38.566C91.9243 38.566 92.4283 38.6547 92.8763 38.832C93.3243 39.0093 93.707 39.2613 94.0243 39.588C94.3417 39.9147 94.5843 40.316 94.7523 40.792C94.9297 41.2587 95.0183 41.786 95.0183 42.374ZM100.972 46C100.869 45.7947 100.743 45.566 100.594 45.314C100.445 45.062 100.281 44.8053 100.104 44.544C99.9267 44.2733 99.7447 44.0073 99.558 43.746C99.3714 43.4847 99.1894 43.2373 99.012 43.004C98.8347 43.2373 98.6527 43.4893 98.466 43.76C98.2794 44.0213 98.0974 44.2873 97.92 44.558C97.752 44.8193 97.5934 45.076 97.444 45.328C97.2947 45.58 97.1687 45.804 97.066 46H95.722C96.0487 45.3653 96.436 44.7213 96.884 44.068C97.3414 43.4053 97.794 42.7753 98.242 42.178L95.834 38.72H97.304L99.04 41.268L100.79 38.72H102.176L99.824 42.094C100.272 42.7007 100.729 43.3447 101.196 44.026C101.672 44.698 102.073 45.356 102.4 46H100.972Z"
          fill="#8F8F8F"
        />
        <path
          d="M47.5 44.25L41 37.75L34.5 44.25"
          stroke="#8F8F8F"
          strokeWidth="2"
          strokeLinecap="round"
        />
        <defs>
          <filter
            id="filter0_d_542_1699"
            x="0"
            y="0"
            width="138"
            height="82"
            filterUnits="userSpaceOnUse"
            colorInterpolationFilters="sRGB"
          >
            <feFlood floodOpacity="0" result="BackgroundImageFix" />
            <feColorMatrix
              in="SourceAlpha"
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
              result="hardAlpha"
            />
            <feOffset />
            <feGaussianBlur stdDeviation="8" />
            <feComposite in2="hardAlpha" operator="out" />
            <feColorMatrix
              type="matrix"
              values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"
            />
            <feBlend
              mode="normal"
              in2="BackgroundImageFix"
              result="effect1_dropShadow_542_1699"
            />
            <feBlend
              mode="normal"
              in="SourceGraphic"
              in2="effect1_dropShadow_542_1699"
              result="shape"
            />
          </filter>
        </defs>
      </svg>
    </button>
  ) : null;
};

export default ScrollToTopButton;
